<link rel="stylesheet" href="/media/css/material.min.css">
<link rel="import" href="/elements/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/elements/iron-ajax/iron-ajax.html">

<!--
    Item Listing from URL. URL content type must be in `JSON` format.

    ### Example

        <blink-utility url="/path/to/json/"></blink-utility>

    ### Styling
    The following custom properties and mixins are available for styling:

    Custom property | Description | Default
    ----------------|-------------|----------
    `--blink-utility-main-color` | The basic/main color of your webapp | `--accent-color`
    `--blink-utility-accent-color` | The accent color of your webapp | `#FFFFFF`

-->
<dom-module id="blink-utility">
    <template>
        <style is="custom-style">
            
        </style>

        <iron-ajax url="{{url}}" handle-as="json" last-response="{{data}}" auto></iron-ajax>

        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp" width="100%">
            <template items="[[data]]" as="item" is="dom-repeat">
            <tr>
                <td colspan="3"><strong>MAINS</strong> </td>
            </tr>
            <tr>
                <td>[[item.power_main_w]] W</td>
                <td>[[item.energy_main_acc_wh]] Wh</td>
                <td>$[[item.bill_acc_cost]]</td>
            </tr>
            <tr>
                <td colspan="3"><strong>BACKGROUND</strong></td>
            </tr>
            <tr>
                <td>[[item.power_bg_w]] W</td>
                <td>[[item.energy_bg_acc_wh]] Wh</td>
                <td>[[item.peak_curr_acc_a]] A</td>
            </tr>
            </template>
        </table>

    </template>

    <script>
        Polymer({
            is: 'blink-utility',

            properties: {
                /** URL for the JSON data. JSON data should have name, desc, updated, edit and delete fields. */
                url: {
                    type: String,
                },
            },
        });

    </script>

</dom-module>
